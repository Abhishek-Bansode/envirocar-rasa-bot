version: '3.1'
intents:
  - affirm
  - bot_challenge
  - deny
  - envirocar_info
  - goodbye
  - greet
  - main_ui_recording
  - mood_great
  - mood_unhappy
entities:
  - recording_start_action
  - recording_stop_action
actions:
  - action_ask_bluetooth
  - action_ask_car
  - action_ask_gps
  - action_ask_obd_adapter
  - action_ask_recording_mode
  - action_hello_world
  - action_start_recording
  - action_stop_recording
  - validate_start_recording_form
forms:
  start_recording_form:
    required_slots:
      - recording_mode
      - gps
      - car
      - bluetooth
      - obd_adapter
slots:
  recording_mode:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: recording_mode
  gps:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: gps
  car:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: car
  bluetooth:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: bluetooth
  obd_adapter:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: obd_adapter
  recording:
    type: bool
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: start_recording_form
            requested_slot: recording
responses:
  utter_greet:
    - text: Hey! How are you?
  utter_cheer_up:
    - text: 'Here is something to cheer you up:'
      image: https://i.imgur.com/nGF1K8f.jpg
  utter_happy:
    - text: Great, carry on!
  utter_goodbye:
    - text: Bye
  utter_iamabot:
    - text: I am a bot, powered by Rasa.
  utter_did_that_help:
    - text: did that help?
  utter_start_affirm:
    - text: sure start I will.
  utter_stop_affirm:
    - text: sure stop I will.
  utter_unspecified_recording_action:
    - text: please specify recording action, e.g. to start say "start recording" or to stop track say "stop recording".
  utter_envirocar_info:
    - text: enviroCar Mobile is an Android application for collecting Extended Floating Car Data on smartphones. You can upload tracks to the enviroCar server, where the data is available for further analysis and use under the ODbL license. The data is also available on the enviroCar website for viewing and analysis.
  utter_custom_response:
    - custom:
        query: '{query}'
        reply: '{reply}'
        action: '{action}'
        data: '{data}'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
